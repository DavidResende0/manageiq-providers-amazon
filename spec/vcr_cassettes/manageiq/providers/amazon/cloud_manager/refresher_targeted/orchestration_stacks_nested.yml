---
http_interactions:
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=arn%3Aaws%3Acloudformation%3Aus-east-1%3A200278856672%3Astack%2FEmsRefreshSpecStack%2Fb4e06950-2fed-11e7-bd93-500c286374d1&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141455Z
      X-Amz-Content-Sha256:
      - ee7457b505a85bcdc54c00cc7e1428239c8d49174f88965bdf64f2a7c3baa103
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=da3e962843432fad03efb90ec60c6a990962ceca2363134aa13a92a7d1ad491b
      Content-Length:
      - '173'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 73421efe-931b-4363-9ae2-2e162313d2a7
      Content-Type:
      - text/xml
      Content-Length:
      - '2703'
      Vary:
      - accept-encoding
      Date:
      - Wed, 12 Aug 2020 14:14:55 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <Description>IP Address of the host</Description>
                    <OutputKey>Bastion</OutputKey>
                    <OutputValue>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S/d3bb46b0-2fed-11e7-a3d9-503f23fb55fe</OutputValue>
                  </member>
                </Outputs>
                <Capabilities>
                  <member>CAPABILITY_NAMED_IAM</member>
                </Capabilities>
                <CreationTime>2017-05-03T10:46:04.698Z</CreationTime>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack/b4e06950-2fed-11e7-bd93-500c286374d1</StackId>
                <StackName>EmsRefreshSpecStack</StackName>
                <Description>AWS CloudFormation Sample Template vpc_single_instance_in_subnet.template: Sample template showing how to create a VPC and add an EC2 instance with an Elastic IP address and a security group. **WARNING** This template creates an Amazon EC2 instance. You will be billed for the AWS resources used if you create a stack from this template.</Description>
                <StackStatus>CREATE_COMPLETE</StackStatus>
                <DisableRollback>false</DisableRollback>
                <Tags>
                  <member>
                    <Value>EmsRefreshSpecStack-value2</Value>
                    <Key>EmsRefreshSpecStack-key2</Key>
                  </member>
                  <member>
                    <Value>EmsRefreshSpecStack-value1</Value>
                    <Key>EmsRefreshSpecStack-key1</Key>
                  </member>
                </Tags>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>KeyName</ParameterKey>
                    <ParameterValue>EmsRefreshSpec-KeyPair</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SSHLocation</ParameterKey>
                    <ParameterValue>0.0.0.0/0</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>DBRootPassword</ParameterKey>
                    <ParameterValue>****</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>InstanceType</ParameterKey>
                    <ParameterValue>t2.nano</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>73421efe-931b-4363-9ae2-2e162313d2a7</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:55 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=DescribeStacks&StackName=arn%3Aaws%3Acloudformation%3Aus-east-1%3A200278856672%3Astack%2FEmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S%2Fd3bb46b0-2fed-11e7-a3d9-503f23fb55fe&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141455Z
      X-Amz-Content-Sha256:
      - 757f116d419bd4d4b28f0f2066e5d8ebd0130dccf7e5ddc04269a9836899e0bd
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=ced5058f276873cd6218c28d354aa4fcc8302ac013805e66b3677a2ed9ef51a5
      Content-Length:
      - '205'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 5fb65377-3c58-4a4a-9ed7-7bff3cefb645
      Content-Type:
      - text/xml
      Content-Length:
      - '3223'
      Vary:
      - accept-encoding
      Date:
      - Wed, 12 Aug 2020 14:14:55 GMT
    body:
      encoding: UTF-8
      string: |
        <DescribeStacksResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <DescribeStacksResult>
            <Stacks>
              <member>
                <Outputs>
                  <member>
                    <Description>Newly created application URL</Description>
                    <OutputKey>URL</OutputKey>
                    <OutputValue>http://34.202.178.10</OutputValue>
                  </member>
                </Outputs>
                <Capabilities>
                  <member>CAPABILITY_NAMED_IAM</member>
                </Capabilities>
                <CreationTime>2017-05-03T10:46:56.780Z</CreationTime>
                <RootId>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack/b4e06950-2fed-11e7-bd93-500c286374d1</RootId>
                <NotificationARNs/>
                <StackId>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S/d3bb46b0-2fed-11e7-a3d9-503f23fb55fe</StackId>
                <StackName>EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S</StackName>
                <Description>AWS CloudFormation Sample Template VPC_Single_Instance_In_Subnet: Sample template showing how to create a VPC and add an EC2 instance with an Elastic IP address and a security group. **WARNING** This template creates an Amazon EC2 instance. You will be billed for the AWS resources used if you create a stack from this template.</Description>
                <StackStatus>CREATE_COMPLETE</StackStatus>
                <DisableRollback>true</DisableRollback>
                <ParentId>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack/b4e06950-2fed-11e7-bd93-500c286374d1</ParentId>
                <Tags>
                  <member>
                    <Value>EmsRefreshSpecStack-value2</Value>
                    <Key>EmsRefreshSpecStack-key2</Key>
                  </member>
                  <member>
                    <Value>EmsRefreshSpecStack-value1</Value>
                    <Key>EmsRefreshSpecStack-key1</Key>
                  </member>
                </Tags>
                <RollbackConfiguration/>
                <DriftInformation>
                  <StackDriftStatus>NOT_CHECKED</StackDriftStatus>
                </DriftInformation>
                <EnableTerminationProtection>false</EnableTerminationProtection>
                <Parameters>
                  <member>
                    <ParameterKey>KeyName</ParameterKey>
                    <ParameterValue>EmsRefreshSpec-KeyPair</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SSHLocation</ParameterKey>
                    <ParameterValue>0.0.0.0/0</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>InstanceSecurityGroupID</ParameterKey>
                    <ParameterValue>sg-76c10f08</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>DBRootPassword</ParameterKey>
                    <ParameterValue>****</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>SubnetID</ParameterKey>
                    <ParameterValue>subnet-2190b144</ParameterValue>
                  </member>
                  <member>
                    <ParameterKey>InstanceType</ParameterKey>
                    <ParameterValue>t2.nano</ParameterValue>
                  </member>
                </Parameters>
              </member>
            </Stacks>
          </DescribeStacksResult>
          <ResponseMetadata>
            <RequestId>5fb65377-3c58-4a4a-9ed7-7bff3cefb645</RequestId>
          </ResponseMetadata>
        </DescribeStacksResponse>
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:55 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=GetTemplate&StackName=EmsRefreshSpecStack&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141455Z
      X-Amz-Content-Sha256:
      - 4dc6d77a6dbb5ed8a7f7ff3b24280515d1c3b34596643cdface7d23473f3237f
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=d72feb0637bd30f4588750906ee44ee612ae6a08f49267821fcb143cc4cfb236
      Content-Length:
      - '67'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 889a7cd6-f882-4609-9b95-d84700266d84
      Content-Type:
      - text/xml
      Content-Length:
      - '11953'
      Vary:
      - accept-encoding
      Date:
      - Wed, 12 Aug 2020 14:14:55 GMT
    body:
      encoding: UTF-8
      string: "<GetTemplateResponse xmlns=\"http://cloudformation.amazonaws.com/doc/2010-05-15/\">\n
        \ <GetTemplateResult>\n    <TemplateBody>{\n  &quot;AWSTemplateFormatVersion&quot;
        : &quot;2010-09-09&quot;,\n\n  &quot;Description&quot; : &quot;AWS CloudFormation
        Sample Template vpc_single_instance_in_subnet.template: Sample template showing
        how to create a VPC and add an EC2 instance with an Elastic IP address and
        a security group. **WARNING** This template creates an Amazon EC2 instance.
        You will be billed for the AWS resources used if you create a stack from this
        template.&quot;,\n\n  &quot;Parameters&quot; : {\n\n    &quot;InstanceType&quot;
        : {\n      &quot;Description&quot; : &quot;WebServer EC2 instance type&quot;,\n
        \     &quot;Type&quot; : &quot;String&quot;,\n      &quot;Default&quot; :
        &quot;t2.nano&quot;,\n      &quot;AllowedValues&quot; : [ &quot;t2.nano&quot;,
        &quot;t1.micro&quot;,&quot;m1.small&quot;,&quot;m1.medium&quot;,&quot;m1.large&quot;,&quot;m1.xlarge&quot;,&quot;m2.xlarge&quot;,&quot;m2.2xlarge&quot;,&quot;m2.4xlarge&quot;,&quot;m3.xlarge&quot;,&quot;m3.2xlarge&quot;,&quot;c1.medium&quot;,&quot;c1.xlarge&quot;,&quot;cc1.4xlarge&quot;,&quot;cc2.8xlarge&quot;,&quot;cg1.4xlarge&quot;],\n
        \     &quot;ConstraintDescription&quot; : &quot;must be a valid EC2 instance
        type.&quot;\n    },\n\n    &quot;KeyName&quot;: {\n      &quot;Description&quot;:
        &quot;Name of an existing EC2 KeyPair to enable SSH access to the instances&quot;,\n
        \     &quot;Type&quot;: &quot;AWS::EC2::KeyPair::KeyName&quot;,\n      &quot;ConstraintDescription&quot;:
        &quot;must be the name of an existing EC2 KeyPair.&quot;\n    },\n\n    &quot;DBRootPassword&quot;:
        {\n      &quot;Description&quot;: &quot;Db password&quot;,\n      &quot;Type&quot;:
        &quot;String&quot;,\n      &quot;NoEcho&quot;: &quot;true&quot;, \n      &quot;Default&quot;:
        &quot;adminadmin&quot;\n    },\t\n\n    &quot;SSHLocation&quot; : {\n      &quot;Description&quot;
        : &quot; The IP address range that can be used to SSH to the EC2 instances&quot;,\n
        \     &quot;Type&quot;: &quot;String&quot;,\n      &quot;MinLength&quot;:
        &quot;9&quot;,\n      &quot;MaxLength&quot;: &quot;18&quot;,\n      &quot;Default&quot;:
        &quot;0.0.0.0/0&quot;,\n      &quot;AllowedPattern&quot;: &quot;(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})&quot;,\n
        \     &quot;ConstraintDescription&quot;: &quot;must be a valid IP CIDR range
        of the form x.x.x.x/x.&quot;\n    }\n  },\n\n  &quot;Mappings&quot; : {\n
        \   &quot;RegionMap&quot; : {\n      &quot;us-east-1&quot;      : { &quot;AMI&quot;
        : &quot;ami-7f418316&quot; },\n      &quot;us-west-1&quot;      : { &quot;AMI&quot;
        : &quot;ami-951945d0&quot; },\n      &quot;us-west-2&quot;      : { &quot;AMI&quot;
        : &quot;ami-16fd7026&quot; },\n      &quot;eu-west-1&quot;      : { &quot;AMI&quot;
        : &quot;ami-24506250&quot; },\n      &quot;sa-east-1&quot;      : { &quot;AMI&quot;
        : &quot;ami-3e3be423&quot; },\n      &quot;ap-southeast-1&quot; : { &quot;AMI&quot;
        : &quot;ami-74dda626&quot; },\n      &quot;ap-southeast-2&quot; : { &quot;AMI&quot;
        : &quot;ami-b3990e89&quot; },\n      &quot;ap-northeast-1&quot; : { &quot;AMI&quot;
        : &quot;ami-dcfa4edd&quot; }\n    }\n  },\n\n  &quot;Resources&quot; : {\n\n
        \   &quot;VPC&quot; : {\n      &quot;Type&quot; : &quot;AWS::EC2::VPC&quot;,\n
        \     &quot;Properties&quot; : {\n        &quot;CidrBlock&quot; : &quot;10.2.0.0/16&quot;,\n
        \       &quot;Tags&quot; : [ {&quot;Key&quot; : &quot;Application&quot;, &quot;Value&quot;
        : { &quot;Ref&quot; : &quot;AWS::StackId&quot;} } ]\n      }\n    },\n\n    &quot;Subnet&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::Subnet&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;VpcId&quot; : { &quot;Ref&quot; : &quot;VPC&quot; },\n
        \       &quot;CidrBlock&quot; : &quot;10.2.0.0/24&quot;,\n        &quot;Tags&quot;
        : [ {&quot;Key&quot; : &quot;Application&quot;, &quot;Value&quot; : { &quot;Ref&quot;
        : &quot;AWS::StackId&quot;} } ]\n      }\n    },\n\n    &quot;InternetGateway&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::InternetGateway&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;Tags&quot; : [ {&quot;Key&quot; : &quot;Application&quot;,
        &quot;Value&quot; : { &quot;Ref&quot; : &quot;AWS::StackId&quot;} } ]\n      }\n
        \   },\n\n    &quot;AttachGateway&quot; : {\n       &quot;Type&quot; : &quot;AWS::EC2::VPCGatewayAttachment&quot;,\n
        \      &quot;Properties&quot; : {\n         &quot;VpcId&quot; : { &quot;Ref&quot;
        : &quot;VPC&quot; },\n         &quot;InternetGatewayId&quot; : { &quot;Ref&quot;
        : &quot;InternetGateway&quot; }\n       }\n    },\n\n    &quot;RouteTable&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::RouteTable&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;VpcId&quot; : {&quot;Ref&quot; : &quot;VPC&quot;},\n        &quot;Tags&quot;
        : [ {&quot;Key&quot; : &quot;Application&quot;, &quot;Value&quot; : { &quot;Ref&quot;
        : &quot;AWS::StackId&quot;} } ]\n      }\n    },\n\n    &quot;Route&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::Route&quot;,\n      &quot;DependsOn&quot;
        : &quot;AttachGateway&quot;,\n      &quot;Properties&quot; : {\n        &quot;RouteTableId&quot;
        : { &quot;Ref&quot; : &quot;RouteTable&quot; },\n        &quot;DestinationCidrBlock&quot;
        : &quot;0.0.0.0/0&quot;,\n        &quot;GatewayId&quot; : { &quot;Ref&quot;
        : &quot;InternetGateway&quot; }\n      }\n    },\n\n    &quot;SubnetRouteTableAssociation&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::SubnetRouteTableAssociation&quot;,\n
        \     &quot;Properties&quot; : {\n        &quot;SubnetId&quot; : { &quot;Ref&quot;
        : &quot;Subnet&quot; },\n        &quot;RouteTableId&quot; : { &quot;Ref&quot;
        : &quot;RouteTable&quot; }\n      }\n    },\n\n    &quot;NetworkAcl&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAcl&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;VpcId&quot; : {&quot;Ref&quot; : &quot;VPC&quot;},\n        &quot;Tags&quot;
        : [ {&quot;Key&quot; : &quot;Application&quot;, &quot;Value&quot; : { &quot;Ref&quot;
        : &quot;AWS::StackId&quot;} } ]\n      }\n    },\n\n    &quot;InboundHTTPNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;100&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;false&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;80&quot;, &quot;To&quot;
        : &quot;80&quot;}\n      }\n    },\n\n    &quot;InboundSSHNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;101&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;false&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;22&quot;, &quot;To&quot;
        : &quot;22&quot;}\n      }\n    },\n\n    &quot;InboundResponsePortsNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;102&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;false&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;1024&quot;, &quot;To&quot;
        : &quot;65535&quot;}\n      }\n    },\n\n    &quot;OutBoundHTTPNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;100&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;true&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;80&quot;, &quot;To&quot;
        : &quot;80&quot;}\n      }\n    },\n\n    &quot;OutBoundHTTPSNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;101&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;true&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;443&quot;, &quot;To&quot;
        : &quot;443&quot;}\n      }\n    },\n\n    &quot;OutBoundResponsePortsNetworkAclEntry&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::NetworkAclEntry&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;NetworkAclId&quot; : {&quot;Ref&quot; : &quot;NetworkAcl&quot;},\n
        \       &quot;RuleNumber&quot; : &quot;102&quot;,\n        &quot;Protocol&quot;
        : &quot;6&quot;,\n        &quot;RuleAction&quot; : &quot;allow&quot;,\n        &quot;Egress&quot;
        : &quot;true&quot;,\n        &quot;CidrBlock&quot; : &quot;0.0.0.0/0&quot;,\n
        \       &quot;PortRange&quot; : {&quot;From&quot; : &quot;1024&quot;, &quot;To&quot;
        : &quot;65535&quot;}\n      }\n    },\n\n    &quot;SubnetNetworkAclAssociation&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::SubnetNetworkAclAssociation&quot;,\n
        \     &quot;Properties&quot; : {\n        &quot;SubnetId&quot; : { &quot;Ref&quot;
        : &quot;Subnet&quot; },\n        &quot;NetworkAclId&quot; : { &quot;Ref&quot;
        : &quot;NetworkAcl&quot; }\n      }\n    },\n\n    &quot;InstanceSecurityGroup&quot;
        : {\n      &quot;Type&quot; : &quot;AWS::EC2::SecurityGroup&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;VpcId&quot; : { &quot;Ref&quot; : &quot;VPC&quot; },\n
        \       &quot;GroupDescription&quot; : &quot;Enable SSH access via port 22&quot;,\n
        \       &quot;SecurityGroupIngress&quot; : [\n          {&quot;IpProtocol&quot;
        : &quot;tcp&quot;, &quot;FromPort&quot; : &quot;22&quot;, &quot;ToPort&quot;
        : &quot;22&quot;, &quot;CidrIp&quot; : { &quot;Ref&quot; : &quot;SSHLocation&quot;}},\n
        \         { &quot;IpProtocol&quot; : &quot;tcp&quot;, &quot;FromPort&quot;
        : &quot;80&quot;, &quot;ToPort&quot; : &quot;80&quot;, &quot;CidrIp&quot;
        : &quot;0.0.0.0/0&quot;}\n         ]\n      }\n    },\n\n\n    &quot;WebServerInstance&quot;
        : {\n         &quot;Type&quot; : &quot;AWS::CloudFormation::Stack&quot;,\n
        \        &quot;DependsOn&quot; : &quot;AttachGateway&quot;,\n         &quot;Properties&quot;
        : {\n             &quot;TemplateURL&quot; : &quot;https://s3.amazonaws.com/cf-templates-13wbkx0x8rgs2-us-east-1/EmsRefreshSpecStackTemplates/cf-vpc-template-for-vm&quot;,\n
        \            &quot;Parameters&quot; : {\n                 &quot;DBRootPassword&quot;
        : { &quot;Ref&quot; : &quot;DBRootPassword&quot; },\n                 &quot;InstanceType&quot;
        : { &quot;Ref&quot; : &quot;InstanceType&quot; },\n                 &quot;KeyName&quot;
        : { &quot;Ref&quot; : &quot;KeyName&quot; },\n                 &quot;InstanceSecurityGroupID&quot;:
        { &quot;Ref&quot; : &quot;InstanceSecurityGroup&quot; },\n                 &quot;SubnetID&quot;
        : { &quot;Ref&quot; : &quot;Subnet&quot; }\n             }\n           }\n
        \   }\n  },\n\n  &quot;Outputs&quot; : {\n    &quot;Bastion&quot; : {\n      &quot;Description&quot;
        : &quot;IP Address of the host&quot;,\n      &quot;Value&quot; :  { &quot;Ref&quot;
        : &quot;WebServerInstance&quot; }\n    }\n  }\n}\n</TemplateBody>\n    <StagesAvailable>\n
        \     <member>Original</member>\n      <member>Processed</member>\n    </StagesAvailable>\n
        \ </GetTemplateResult>\n  <ResponseMetadata>\n    <RequestId>889a7cd6-f882-4609-9b95-d84700266d84</RequestId>\n
        \ </ResponseMetadata>\n</GetTemplateResponse>\n"
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:55 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=ListStackResources&StackName=EmsRefreshSpecStack&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141455Z
      X-Amz-Content-Sha256:
      - 5129d3e8ebb78afbee802141b221fa01c75c48ea0420549a3a199f5af6b9849c
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=8bcd03b44a506f71a0970a77ee78b8fdca50d7cf712ccfa691dfb31ede907077
      Content-Length:
      - '74'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - efef7fab-1343-4453-8da4-586fea44dc1c
      Content-Type:
      - text/xml
      Content-Length:
      - '8877'
      Vary:
      - accept-encoding
      Date:
      - Wed, 12 Aug 2020 14:14:56 GMT
    body:
      encoding: UTF-8
      string: |
        <ListStackResourcesResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ListStackResourcesResult>
            <StackResourceSummaries>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:51.634Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-Attac-18IYH2NXW163I</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>AttachGateway</LogicalResourceId>
                <ResourceType>AWS::EC2::VPCGatewayAttachment</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:59.572Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-Inbou-1M80E3XJX5ZG6</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>InboundHTTPNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:56.467Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-Inbou-E8UR0I5STC4V</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>InboundResponsePortsNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:55.099Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-Inbou-1E29UZ91J3L0R</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>InboundSSHNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:51.481Z</LastUpdatedTimestamp>
                <PhysicalResourceId>sg-76c10f08</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>InstanceSecurityGroup</LogicalResourceId>
                <ResourceType>AWS::EC2::SecurityGroup</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:29.550Z</LastUpdatedTimestamp>
                <PhysicalResourceId>igw-64924d02</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>InternetGateway</LogicalResourceId>
                <ResourceType>AWS::EC2::InternetGateway</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:34.869Z</LastUpdatedTimestamp>
                <PhysicalResourceId>acl-e616ad9f</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>NetworkAcl</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAcl</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:56.226Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-OutBo-1NZIAZJB04JPV</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>OutBoundHTTPNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:56.162Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-OutBo-11CPJOERKOC1S</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>OutBoundHTTPSNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:57.712Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-OutBo-1VCOFXN25WKE2</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>OutBoundResponsePortsNetworkAclEntry</LogicalResourceId>
                <ResourceType>AWS::EC2::NetworkAclEntry</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:47:11.450Z</LastUpdatedTimestamp>
                <PhysicalResourceId>EmsRe-Route-CE90KA6C89YL</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>Route</LogicalResourceId>
                <ResourceType>AWS::EC2::Route</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:35.945Z</LastUpdatedTimestamp>
                <PhysicalResourceId>rtb-d37690ab</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>RouteTable</LogicalResourceId>
                <ResourceType>AWS::EC2::RouteTable</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:51.908Z</LastUpdatedTimestamp>
                <PhysicalResourceId>subnet-2190b144</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>Subnet</LogicalResourceId>
                <ResourceType>AWS::EC2::Subnet</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:47:12.194Z</LastUpdatedTimestamp>
                <PhysicalResourceId>aclassoc-5960cf29</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>SubnetNetworkAclAssociation</LogicalResourceId>
                <ResourceType>AWS::EC2::SubnetNetworkAclAssociation</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:47:11.882Z</LastUpdatedTimestamp>
                <PhysicalResourceId>rtbassoc-d35ff3a8</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>SubnetRouteTableAssociation</LogicalResourceId>
                <ResourceType>AWS::EC2::SubnetRouteTableAssociation</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:46:30.347Z</LastUpdatedTimestamp>
                <PhysicalResourceId>vpc-8cf117f5</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>VPC</LogicalResourceId>
                <ResourceType>AWS::EC2::VPC</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:49:38.256Z</LastUpdatedTimestamp>
                <PhysicalResourceId>arn:aws:cloudformation:us-east-1:200278856672:stack/EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S/d3bb46b0-2fed-11e7-a3d9-503f23fb55fe</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>WebServerInstance</LogicalResourceId>
                <ResourceType>AWS::CloudFormation::Stack</ResourceType>
              </member>
            </StackResourceSummaries>
          </ListStackResourcesResult>
          <ResponseMetadata>
            <RequestId>efef7fab-1343-4453-8da4-586fea44dc1c</RequestId>
          </ResponseMetadata>
        </ListStackResourcesResponse>
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:56 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=GetTemplate&StackName=EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141456Z
      X-Amz-Content-Sha256:
      - f005060b494874c71d174f59905bab23a022e5b3da296b5735783b2d2b59db30
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=6de4a1da793f2bbd1c2d0a48c7b0e655b2bc75dfb9ea6da6f9d11f1b6ec9f0e6
      Content-Length:
      - '99'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - 002e0991-5e7c-46a7-9cca-d633a886c730
      Content-Type:
      - text/xml
      Content-Length:
      - '23157'
      Vary:
      - accept-encoding
      Date:
      - Wed, 12 Aug 2020 14:14:55 GMT
    body:
      encoding: UTF-8
      string: "<GetTemplateResponse xmlns=\"http://cloudformation.amazonaws.com/doc/2010-05-15/\">\n
        \ <GetTemplateResult>\n    <TemplateBody>{\n  &quot;AWSTemplateFormatVersion&quot;
        : &quot;2010-09-09&quot;,\n\n  &quot;Description&quot; : &quot;AWS CloudFormation
        Sample Template VPC_Single_Instance_In_Subnet: Sample template showing how
        to create a VPC and add an EC2 instance with an Elastic IP address and a security
        group. **WARNING** This template creates an Amazon EC2 instance. You will
        be billed for the AWS resources used if you create a stack from this template.&quot;,\n\n
        \ &quot;Parameters&quot; : {\n\n    &quot;InstanceType&quot; : {\n      &quot;Description&quot;
        : &quot;WebServer EC2 instance type&quot;,\n      &quot;Type&quot; : &quot;String&quot;,\n
        \     &quot;Default&quot; : &quot;t2.small&quot;,\n      &quot;AllowedValues&quot;
        : [ &quot;t1.micro&quot;, &quot;t2.nano&quot;, &quot;t2.micro&quot;, &quot;t2.small&quot;,
        &quot;t2.medium&quot;, &quot;t2.large&quot;, &quot;m1.small&quot;, &quot;m1.medium&quot;,
        &quot;m1.large&quot;, &quot;m1.xlarge&quot;, &quot;m2.xlarge&quot;, &quot;m2.2xlarge&quot;,
        &quot;m2.4xlarge&quot;, &quot;m3.medium&quot;, &quot;m3.large&quot;, &quot;m3.xlarge&quot;,
        &quot;m3.2xlarge&quot;, &quot;m4.large&quot;, &quot;m4.xlarge&quot;, &quot;m4.2xlarge&quot;,
        &quot;m4.4xlarge&quot;, &quot;m4.10xlarge&quot;, &quot;c1.medium&quot;, &quot;c1.xlarge&quot;,
        &quot;c3.large&quot;, &quot;c3.xlarge&quot;, &quot;c3.2xlarge&quot;, &quot;c3.4xlarge&quot;,
        &quot;c3.8xlarge&quot;, &quot;c4.large&quot;, &quot;c4.xlarge&quot;, &quot;c4.2xlarge&quot;,
        &quot;c4.4xlarge&quot;, &quot;c4.8xlarge&quot;, &quot;g2.2xlarge&quot;, &quot;g2.8xlarge&quot;,
        &quot;r3.large&quot;, &quot;r3.xlarge&quot;, &quot;r3.2xlarge&quot;, &quot;r3.4xlarge&quot;,
        &quot;r3.8xlarge&quot;, &quot;i2.xlarge&quot;, &quot;i2.2xlarge&quot;, &quot;i2.4xlarge&quot;,
        &quot;i2.8xlarge&quot;, &quot;d2.xlarge&quot;, &quot;d2.2xlarge&quot;, &quot;d2.4xlarge&quot;,
        &quot;d2.8xlarge&quot;, &quot;hi1.4xlarge&quot;, &quot;hs1.8xlarge&quot;,
        &quot;cr1.8xlarge&quot;, &quot;cc2.8xlarge&quot;, &quot;cg1.4xlarge&quot;]\n,\n
        \     &quot;ConstraintDescription&quot; : &quot;must be a valid EC2 instance
        type.&quot;\n    },\n\n    &quot;KeyName&quot;: {\n      &quot;Description&quot;
        : &quot;Name of an existing EC2 KeyPair to enable SSH access to the instance&quot;,\n
        \     &quot;Type&quot;: &quot;AWS::EC2::KeyPair::KeyName&quot;,\n      &quot;ConstraintDescription&quot;
        : &quot;must be the name of an existing EC2 KeyPair.&quot;\n    },\n\n    &quot;DBRootPassword&quot;:
        {\n      &quot;Description&quot;: &quot;Db password&quot;,\n      &quot;Type&quot;:
        &quot;String&quot;,\n      &quot;NoEcho&quot;: &quot;true&quot;, \n      &quot;Default&quot;:
        &quot;adminadmin&quot;\n    },\t\n    \n    &quot;SSHLocation&quot; : {\n
        \     &quot;Description&quot; : &quot; The IP address range that can be used
        to SSH to the EC2 instances&quot;,\n      &quot;Type&quot;: &quot;String&quot;,\n
        \     &quot;MinLength&quot;: &quot;9&quot;,\n      &quot;MaxLength&quot;:
        &quot;18&quot;,\n      &quot;Default&quot;: &quot;0.0.0.0/0&quot;,\n      &quot;AllowedPattern&quot;:
        &quot;(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/(\\\\d{1,2})&quot;,\n
        \     &quot;ConstraintDescription&quot;: &quot;must be a valid IP CIDR range
        of the form x.x.x.x/x.&quot;\n    },\n\n    &quot;InstanceSecurityGroupID&quot;:
        {\n      &quot;Description&quot;: &quot;Security Group ID&quot;,\n      &quot;Type&quot;:
        &quot;AWS::EC2::SecurityGroup::Id&quot;,\n      &quot;ConstraintDescription&quot;:
        &quot;must be the id of an existing VPC SecurityGroup.&quot;\n    },\n    \n
        \   &quot;SubnetID&quot;: {\n      &quot;Description&quot;: &quot;Subnet ID&quot;,\n
        \     &quot;Type&quot;: &quot;AWS::EC2::Subnet::Id&quot;,\n      &quot;ConstraintDescription&quot;:
        &quot;must be the id of an existing VPC Subnet.&quot;\n    }\n  },\n\n  &quot;Mappings&quot;
        : {\n    &quot;Region2Examples&quot; : {\n      &quot;us-east-1&quot;      :
        { &quot;Examples&quot; : &quot;https://s3.amazonaws.com/cloudformation-examples-us-east-1&quot;
        },\n      &quot;us-west-2&quot;      : { &quot;Examples&quot; : &quot;https://s3-us-west-2.amazonaws.com/cloudformation-examples-us-west-2&quot;
        },\n      &quot;us-west-1&quot;      : { &quot;Examples&quot; : &quot;https://s3-us-west-1.amazonaws.com/cloudformation-examples-us-west-1&quot;
        },\n      &quot;eu-west-1&quot;      : { &quot;Examples&quot; : &quot;https://s3-eu-west-1.amazonaws.com/cloudformation-examples-eu-west-1&quot;
        },\n      &quot;eu-west-2&quot;      : { &quot;Examples&quot; : &quot;https://s3-eu-west-2.amazonaws.com/cloudformation-examples-eu-west-2&quot;
        },\n      &quot;eu-central-1&quot;   : { &quot;Examples&quot; : &quot;https://s3-eu-central-1.amazonaws.com/cloudformation-examples-eu-central-1&quot;
        },\n      &quot;ap-southeast-1&quot; : { &quot;Examples&quot; : &quot;https://s3-ap-southeast-1.amazonaws.com/cloudformation-examples-ap-southeast-1&quot;
        },\n      &quot;ap-northeast-1&quot; : { &quot;Examples&quot; : &quot;https://s3-ap-northeast-1.amazonaws.com/cloudformation-examples-ap-northeast-1&quot;
        },\n      &quot;ap-northeast-2&quot; : { &quot;Examples&quot; : &quot;https://s3-ap-northeast-2.amazonaws.com/cloudformation-examples-ap-northeast-2&quot;
        },\n      &quot;ap-southeast-2&quot; : { &quot;Examples&quot; : &quot;https://s3-ap-southeast-2.amazonaws.com/cloudformation-examples-ap-southeast-2&quot;
        },\n      &quot;ap-south-1&quot;     : { &quot;Examples&quot; : &quot;https://s3-ap-south-1.amazonaws.com/cloudformation-examples-ap-south-1&quot;
        },\n      &quot;us-east-2&quot;      : { &quot;Examples&quot; : &quot;https://s3-us-east-2.amazonaws.com/cloudformation-examples-us-east-2&quot;
        },\n      &quot;ca-central-1&quot;   : { &quot;Examples&quot; : &quot;https://s3-ca-central-1.amazonaws.com/cloudformation-examples-ca-central-1&quot;
        },\n      &quot;sa-east-1&quot;      : { &quot;Examples&quot; : &quot;https://s3-sa-east-1.amazonaws.com/cloudformation-examples-sa-east-1&quot;
        },\n      &quot;cn-north-1&quot;     : { &quot;Examples&quot; : &quot;https://s3.cn-north-1.amazonaws.com.cn/cloudformation-examples-cn-north-1&quot;
        }\n    }\n,\n    &quot;AWSInstanceType2Arch&quot; : {\n      &quot;t1.micro&quot;
        \   : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;t2.nano&quot;
        \    : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;t2.micro&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;t2.small&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;t2.medium&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;t2.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m1.small&quot;
        \   : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m1.medium&quot;
        \  : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m1.large&quot;
        \   : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m1.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m2.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m2.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m2.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;m3.medium&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m3.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m3.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m3.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m4.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m4.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m4.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m4.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;m4.10xlarge&quot;
        : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c1.medium&quot;
        \  : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;c1.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;PV64&quot;   },\n      &quot;c3.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c3.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c3.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c3.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c3.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c4.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c4.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c4.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c4.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;c4.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;g2.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVMG2&quot;  },\n      &quot;g2.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVMG2&quot;  },\n      &quot;r3.large&quot;
        \   : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;r3.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;r3.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;r3.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;r3.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;i2.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;i2.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;i2.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;i2.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;d2.xlarge&quot;
        \  : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;d2.2xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;d2.4xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;d2.8xlarge&quot;
        \ : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;hi1.4xlarge&quot;
        : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;hs1.8xlarge&quot;
        : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;cr1.8xlarge&quot;
        : { &quot;Arch&quot; : &quot;HVM64&quot;  },\n      &quot;cc2.8xlarge&quot;
        : { &quot;Arch&quot; : &quot;HVM64&quot;  }\n    },\n\n    &quot;AWSInstanceType2NATArch&quot;
        : {\n      &quot;t1.micro&quot;    : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;t2.nano&quot;     : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;t2.micro&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;t2.small&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;t2.medium&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;t2.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m1.small&quot;    : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m1.medium&quot;   : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m1.large&quot;    : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m1.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m2.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m2.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m2.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;m3.medium&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m3.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m3.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m3.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m4.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m4.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m4.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m4.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;m4.10xlarge&quot; : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c1.medium&quot;   : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;c1.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATPV64&quot;
        \  },\n      &quot;c3.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c3.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c3.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c3.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c3.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c4.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c4.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c4.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c4.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;c4.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;g2.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVMG2&quot;
        \ },\n      &quot;g2.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVMG2&quot;
        \ },\n      &quot;r3.large&quot;    : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;r3.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;r3.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;r3.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;r3.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;i2.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;i2.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;i2.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;i2.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;d2.xlarge&quot;   : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;d2.2xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;d2.4xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;d2.8xlarge&quot;  : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;hi1.4xlarge&quot; : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;hs1.8xlarge&quot; : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;cr1.8xlarge&quot; : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ },\n      &quot;cc2.8xlarge&quot; : { &quot;Arch&quot; : &quot;NATHVM64&quot;
        \ }\n    }\n,\n    &quot;AWSRegionArch2AMI&quot; : {\n      &quot;us-east-1&quot;
        \       : {&quot;PV64&quot; : &quot;ami-2a69aa47&quot;, &quot;HVM64&quot;
        : &quot;ami-6869aa05&quot;, &quot;HVMG2&quot; : &quot;ami-bb18efad&quot;},\n
        \     &quot;us-west-2&quot;        : {&quot;PV64&quot; : &quot;ami-7f77b31f&quot;,
        &quot;HVM64&quot; : &quot;ami-7172b611&quot;, &quot;HVMG2&quot; : &quot;ami-31912f51&quot;},\n
        \     &quot;us-west-1&quot;        : {&quot;PV64&quot; : &quot;ami-a2490dc2&quot;,
        &quot;HVM64&quot; : &quot;ami-31490d51&quot;, &quot;HVMG2&quot; : &quot;ami-0a9dcf6a&quot;},\n
        \     &quot;eu-west-1&quot;        : {&quot;PV64&quot; : &quot;ami-4cdd453f&quot;,
        &quot;HVM64&quot; : &quot;ami-f9dd458a&quot;, &quot;HVMG2&quot; : &quot;ami-873e61e1&quot;},\n
        \     &quot;eu-west-2&quot;        : {&quot;PV64&quot; : &quot;NOT_SUPPORTED&quot;,
        &quot;HVM64&quot; : &quot;ami-886369ec&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;},\n
        \     &quot;eu-central-1&quot;     : {&quot;PV64&quot; : &quot;ami-6527cf0a&quot;,
        &quot;HVM64&quot; : &quot;ami-ea26ce85&quot;, &quot;HVMG2&quot; : &quot;ami-a16ba4ce&quot;},\n
        \     &quot;ap-northeast-1&quot;   : {&quot;PV64&quot; : &quot;ami-3e42b65f&quot;,
        &quot;HVM64&quot; : &quot;ami-374db956&quot;, &quot;HVMG2&quot; : &quot;ami-6b443f0c&quot;},\n
        \     &quot;ap-northeast-2&quot;   : {&quot;PV64&quot; : &quot;NOT_SUPPORTED&quot;,
        &quot;HVM64&quot; : &quot;ami-2b408b45&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;},\n
        \     &quot;ap-southeast-1&quot;   : {&quot;PV64&quot; : &quot;ami-df9e4cbc&quot;,
        &quot;HVM64&quot; : &quot;ami-a59b49c6&quot;, &quot;HVMG2&quot; : &quot;ami-1c0ba17f&quot;},\n
        \     &quot;ap-southeast-2&quot;   : {&quot;PV64&quot; : &quot;ami-63351d00&quot;,
        &quot;HVM64&quot; : &quot;ami-dc361ebf&quot;, &quot;HVMG2&quot; : &quot;ami-bf0d0adc&quot;},\n
        \     &quot;ap-south-1&quot;       : {&quot;PV64&quot; : &quot;NOT_SUPPORTED&quot;,
        &quot;HVM64&quot; : &quot;ami-ffbdd790&quot;, &quot;HVMG2&quot; : &quot;ami-6135440e&quot;},\n
        \     &quot;us-east-2&quot;        : {&quot;PV64&quot; : &quot;NOT_SUPPORTED&quot;,
        &quot;HVM64&quot; : &quot;ami-f6035893&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;},\n
        \     &quot;ca-central-1&quot;     : {&quot;PV64&quot; : &quot;NOT_SUPPORTED&quot;,
        &quot;HVM64&quot; : &quot;ami-730ebd17&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;},\n
        \     &quot;sa-east-1&quot;        : {&quot;PV64&quot; : &quot;ami-1ad34676&quot;,
        &quot;HVM64&quot; : &quot;ami-6dd04501&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;},\n
        \     &quot;cn-north-1&quot;       : {&quot;PV64&quot; : &quot;ami-77559f1a&quot;,
        &quot;HVM64&quot; : &quot;ami-8e6aa0e3&quot;, &quot;HVMG2&quot; : &quot;NOT_SUPPORTED&quot;}\n
        \   }\n\n  },\n\n  &quot;Resources&quot; : {\n    &quot;IPAddress&quot; :
        {\n      &quot;Type&quot; : &quot;AWS::EC2::EIP&quot;,\n      &quot;Properties&quot;
        : {\n        &quot;Domain&quot; : &quot;vpc&quot;,\n        &quot;InstanceId&quot;
        : { &quot;Ref&quot; : &quot;WebServerInstance&quot; }\n      }\n    },\n\n
        \   &quot;WebServerInstance&quot; : {\n      &quot;Type&quot; : &quot;AWS::EC2::Instance&quot;,\n
        \     &quot;Metadata&quot; : {\n        &quot;Comment&quot; : &quot;Install
        a simple application&quot;,\n        &quot;AWS::CloudFormation::Init&quot;
        : {\n          &quot;config&quot; : {\n            &quot;packages&quot; :
        {\n              &quot;yum&quot; : {\n                &quot;httpd&quot;             :
        []\n              }\n            },\n\n            &quot;files&quot; : {\n
        \             &quot;/var/www/html/index.html&quot; : {\n                &quot;content&quot;
        : { &quot;Fn::Join&quot; : [&quot;\\n&quot;, [\n                  &quot;&lt;img
        src=\\&quot;&quot;, {&quot;Fn::FindInMap&quot; : [&quot;Region2Examples&quot;,
        {&quot;Ref&quot; : &quot;AWS::Region&quot;}, &quot;Examples&quot;]}, &quot;/cloudformation_graphic.png\\&quot;
        alt=\\&quot;AWS CloudFormation Logo\\&quot;/&gt;&quot;,\n                  &quot;&lt;h1&gt;Congratulations,
        you have successfully launched the AWS CloudFormation sample.&lt;/h1&gt;&quot;\n
        \               ]]},\n                &quot;mode&quot;    : &quot;000644&quot;,\n
        \               &quot;owner&quot;   : &quot;root&quot;,\n                &quot;group&quot;
        \  : &quot;root&quot;\n              },\n\n              &quot;/etc/cfn/cfn-hup.conf&quot;
        : {\n                &quot;content&quot; : { &quot;Fn::Join&quot; : [&quot;&quot;,
        [\n                  &quot;[main]\\n&quot;,\n                  &quot;stack=&quot;,
        { &quot;Ref&quot; : &quot;AWS::StackId&quot; }, &quot;\\n&quot;,\n                  &quot;region=&quot;,
        { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;\\n&quot;\n                ]]},\n
        \               &quot;mode&quot;    : &quot;000400&quot;,\n                &quot;owner&quot;
        \  : &quot;root&quot;,\n                &quot;group&quot;   : &quot;root&quot;\n
        \             },\n\n              &quot;/etc/cfn/hooks.d/cfn-auto-reloader.conf&quot;
        : {\n                &quot;content&quot;: { &quot;Fn::Join&quot; : [&quot;&quot;,
        [\n                  &quot;[cfn-auto-reloader-hook]\\n&quot;,\n                  &quot;triggers=post.update\\n&quot;,\n
        \                 &quot;path=Resources.WebServerInstance.Metadata.AWS::CloudFormation::Init\\n&quot;,\n
        \                 &quot;action=/opt/aws/bin/cfn-init -v &quot;,\n                  &quot;
        \        --stack &quot;, { &quot;Ref&quot; : &quot;AWS::StackName&quot; },\n
        \                 &quot;         --resource WebServerInstance &quot;,\n                  &quot;
        \        --region &quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;\\n&quot;,\n
        \                 &quot;runas=root\\n&quot;\n                ]]}\n              }\n
        \           },\n\n            &quot;services&quot; : {\n              &quot;sysvinit&quot;
        : {\n                &quot;httpd&quot;    : { &quot;enabled&quot; : &quot;true&quot;,
        &quot;ensureRunning&quot; : &quot;true&quot; },\n                &quot;cfn-hup&quot;
        : { &quot;enabled&quot; : &quot;true&quot;, &quot;ensureRunning&quot; : &quot;true&quot;,
        \n                              &quot;files&quot; : [&quot;/etc/cfn/cfn-hup.conf&quot;,
        &quot;/etc/cfn/hooks.d/cfn-auto-reloader.conf&quot;]}\n              }\n            }\n
        \         }\n        }\n      },\n      &quot;Properties&quot; : {\n        &quot;ImageId&quot;
        : { &quot;Fn::FindInMap&quot; : [ &quot;AWSRegionArch2AMI&quot;, { &quot;Ref&quot;
        : &quot;AWS::Region&quot; },\n                          { &quot;Fn::FindInMap&quot;
        : [ &quot;AWSInstanceType2Arch&quot;, { &quot;Ref&quot; : &quot;InstanceType&quot;
        }, &quot;Arch&quot; ] } ] },\n        &quot;InstanceType&quot; : { &quot;Ref&quot;
        : &quot;InstanceType&quot; },\n        &quot;KeyName&quot; : { &quot;Ref&quot;
        : &quot;KeyName&quot; },\n        &quot;Tags&quot; : [ {&quot;Key&quot; :
        &quot;Application&quot;, &quot;Value&quot; : { &quot;Ref&quot; : &quot;AWS::StackId&quot;}
        } ],\n        &quot;NetworkInterfaces&quot; : [{\n          &quot;GroupSet&quot;
        \                : [{ &quot;Ref&quot; : &quot;InstanceSecurityGroupID&quot;
        }],\n          &quot;AssociatePublicIpAddress&quot; : &quot;true&quot;,\n
        \         &quot;DeviceIndex&quot;              : &quot;0&quot;,\n          &quot;DeleteOnTermination&quot;
        \     : &quot;true&quot;,\n          &quot;SubnetId&quot;                 :
        { &quot;Ref&quot; : &quot;SubnetID&quot; }\n        }],\n        &quot;UserData&quot;
        \      : { &quot;Fn::Base64&quot; : { &quot;Fn::Join&quot; : [&quot;&quot;,
        [\n             &quot;#!/bin/bash -xe\\n&quot;,\n             &quot;yum update
        -y aws-cfn-bootstrap\\n&quot;,\n\n             &quot;/opt/aws/bin/cfn-init
        -v &quot;,\n             &quot;         --stack &quot;, { &quot;Ref&quot;
        : &quot;AWS::StackName&quot; },\n             &quot;         --resource WebServerInstance
        &quot;,\n             &quot;         --region &quot;, { &quot;Ref&quot; :
        &quot;AWS::Region&quot; }, &quot;\\n&quot;,\n\n             &quot;/opt/aws/bin/cfn-signal
        -e $? &quot;,\n             &quot;         --stack &quot;, { &quot;Ref&quot;
        : &quot;AWS::StackName&quot; },\n             &quot;         --resource WebServerInstance
        &quot;,\n             &quot;         --region &quot;, { &quot;Ref&quot; :
        &quot;AWS::Region&quot; }, &quot;\\n&quot;\n        ]]}}\n      },\n      &quot;CreationPolicy&quot;
        : {\n        &quot;ResourceSignal&quot; : {\n          &quot;Timeout&quot;
        : &quot;PT15M&quot;\n        }\n      }\n    }\n  },\n\n  &quot;Outputs&quot;
        : {\n    &quot;URL&quot; : {\n      &quot;Value&quot; : { &quot;Fn::Join&quot;
        : [ &quot;&quot;, [&quot;http://&quot;, { &quot;Fn::GetAtt&quot; : [&quot;WebServerInstance&quot;,
        &quot;PublicIp&quot;] }]]},\n      &quot;Description&quot; : &quot;Newly created
        application URL&quot;\n    }\n  }\n}\n\n</TemplateBody>\n    <StagesAvailable>\n
        \     <member>Original</member>\n      <member>Processed</member>\n    </StagesAvailable>\n
        \ </GetTemplateResult>\n  <ResponseMetadata>\n    <RequestId>002e0991-5e7c-46a7-9cca-d633a886c730</RequestId>\n
        \ </ResponseMetadata>\n</GetTemplateResponse>\n"
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:56 GMT
- request:
    method: post
    uri: https://cloudformation.us-east-1.amazonaws.com/
    body:
      encoding: UTF-8
      string: Action=ListStackResources&StackName=EmsRefreshSpecStack-WebServerInstance-1CTHQS2P5WJ7S&Version=2010-05-15
    headers:
      Content-Type:
      - application/x-www-form-urlencoded; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.104.3 ruby/2.7.1 x86_64-linux-gnu aws-sdk-cloudformation/1.41.0
      X-Amz-Date:
      - 20200812T141456Z
      X-Amz-Content-Sha256:
      - e1551a75591c27367c42f68080eafefed1acf68b0640eb3eb946c2c3d1007a07
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AMAZON_CLIENT_ID/20200812/us-east-1/cloudformation/aws4_request,
        SignedHeaders=content-type;host;x-amz-content-sha256;x-amz-date, Signature=43a8b48d716ec8646c39fba03db71d218fd01b62b5707edbe19c997c5a61c218
      Content-Length:
      - '106'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amzn-Requestid:
      - ef189f56-9450-49e0-aa4a-d61e16c308ec
      Content-Type:
      - text/xml
      Content-Length:
      - '1297'
      Date:
      - Wed, 12 Aug 2020 14:14:55 GMT
    body:
      encoding: UTF-8
      string: |
        <ListStackResourcesResponse xmlns="http://cloudformation.amazonaws.com/doc/2010-05-15/">
          <ListStackResourcesResult>
            <StackResourceSummaries>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:49:32.560Z</LastUpdatedTimestamp>
                <PhysicalResourceId>34.202.178.10</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>IPAddress</LogicalResourceId>
                <ResourceType>AWS::EC2::EIP</ResourceType>
              </member>
              <member>
                <LastUpdatedTimestamp>2017-05-03T10:48:56.988Z</LastUpdatedTimestamp>
                <PhysicalResourceId>i-0bca58e6e540ddc39</PhysicalResourceId>
                <ResourceStatus>CREATE_COMPLETE</ResourceStatus>
                <DriftInformation>
                  <StackResourceDriftStatus>NOT_CHECKED</StackResourceDriftStatus>
                </DriftInformation>
                <LogicalResourceId>WebServerInstance</LogicalResourceId>
                <ResourceType>AWS::EC2::Instance</ResourceType>
              </member>
            </StackResourceSummaries>
          </ListStackResourcesResult>
          <ResponseMetadata>
            <RequestId>ef189f56-9450-49e0-aa4a-d61e16c308ec</RequestId>
          </ResponseMetadata>
        </ListStackResourcesResponse>
    http_version:
  recorded_at: Wed, 12 Aug 2020 14:14:56 GMT
recorded_with: VCR 5.1.0
